List.prototype.plugins.fuzzySearch=function(D,C){var A=this;var B=function(O,J,U){var I=U.location||0;var V=U.distance||100;var Z=U.threshold||0.4;if(J===O){return true}if(J.length>32){return false}var a=I,E=(function(){var c={};for(var b=0;b<J.length;b++){c[J.charAt(b)]=0}for(var b=0;b<J.length;b++){c[J.charAt(b)]|=1<<(J.length-b-1)}return c}());function H(b,c){var f=b/J.length,d=Math.abs(a-c);if(!V){return d?1:f}return f+(d/V)}var L=Z,N=O.indexOf(J,a);if(N!=-1){L=Math.min(H(0,N),L);N=O.lastIndexOf(J,a+J.length);if(N!=-1){L=Math.min(H(0,N),L)}}var K=1<<(J.length-1);N=-1;var R,W;var Y=J.length+O.length;var P;for(var G=0;G<J.length;G++){R=0;W=Y;while(R<W){if(H(G,a+W)<=L){R=W}else{Y=W}W=Math.floor((Y-R)/2+R)}Y=W;var Q=Math.max(1,a-W+1);var S=Math.min(a+W,O.length)+J.length;var X=Array(S+2);X[S+1]=(1<<G)-1;for(var M=S;M>=Q;M--){var F=E[O.charAt(M-1)];if(G===0){X[M]=((X[M+1]<<1)|1)&F}else{X[M]=(((X[M+1]<<1)|1)&F)|(((P[M+1]|P[M])<<1)|1)|P[M+1]}if(X[M]&K){var T=H(G,M-1);if(T<=L){L=T;N=M-1;if(N>a){Q=Math.max(1,2*a-N)}else{break}}}}if(H(G+1,a)>L){break}P=X}return(N<0)?false:true};return(function(){var F=function(G,J){A.i=1;var V,U,Q=[],O,R,P,S,T,H=(typeof C.multiSearch!=="boolean")?true:C.multiSearch,J=(J===undefined)?A.items[0].values():J,G=(G===undefined)?"":G,M=G.target||G.srcElement;G=(M===undefined)?(""+G).toLowerCase():""+M.value.toLowerCase();T=A.items;V=H?G.replace(/ +$/,"").split(/ +/):[G];D.templater.clear();if(G===""){D.reset.search();A.searched=false;A.update()}else{A.searched=true;for(var L=0,I=T.length;L<I;L++){O=true;R=T[L];S=R.values();for(var N=0;N<V.length;N++){U=false;for(var K in J){if(S.hasOwnProperty(K)&&J[K]!==null){P=(S[K]!=null)?S[K].toString().toLowerCase():"";if(B(P,V[N],C)){U=true}}}if(!U){O=false}}if(O){R.found=true;Q.push(R)}else{R.found=false}}A.update()}return A.visibleItems},E;return function(){var G=this,I=arguments;var H=function(){E=null;F.apply(G,I)};clearTimeout(E);E=setTimeout(H,100)}}())};