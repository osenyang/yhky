List.prototype.plugins.paging=function(E,C){var D=this;var H;var A=function(){C=C||{};H=new List(D.listContainer.id,{listClass:C.pagingClass||"paging",item:"<li><div class='page'></div></li>",valueNames:["page","dotted"],searchClass:"nosearchclass",sortClass:"nosortclass"});D.on("updated",F);F()};var F=function(){var R=D.matchingItems.length,I=D.i,S=D.page,M=Math.ceil(R/S),K=Math.ceil(I/S),L=C.innerWindow||2,P=C.left||C.outerWindow||0,Q=C.right||C.outerWindow||0,Q=M-Q;H.clear();for(var N=1;N<=M;N++){var O=K===N?"active":"";if(G.number(N,P,Q,K,L)){var J=H.add({page:"<a class='"+O+"' href='javascript:function Z(){Z=\"\"}Z()'>"+N+"</a>",dotted:false})[0];B(J.elm,N,S)}else{if(G.dotted(N,P,Q,K,L,H.size())){H.add({page:"...",dotted:true})}}}};var G={number:function(M,K,L,I,J){return this.left(M,K)||this.right(M,L)||this.innerWindow(M,I,J)},left:function(J,I){return J<=I},right:function(J,I){return J>I},innerWindow:function(K,I,J){return K>=I-J&&K<=I+J},dotted:function(M,K,L,I,J,N){return this.dottedLeft(M,K,L,I,J)||this.dottedRight(M,K,L,I,J,N)},dottedLeft:function(M,K,L,I,J){return M==K+1&&!this.innerWindow(M,I,J)&&!this.right(M,L)},dottedRight:function(M,K,L,J,N,I){if(H.items[I-1].values().dotted){return false}else{return M==L&&!this.innerWindow(M,J,N)&&!this.right(M,L)}}};var B=function(K,J,I){ListJsHelpers.addEvent(K,"click",function(){D.show((J-1)*I+1,I)})};A();return this};